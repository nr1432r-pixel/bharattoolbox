<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Advanced Scientific Calculator</title>

<!-- ===== CSS (INLINE) ===== -->
<style>
  body{
    background:#eef;
    font-family:Arial, sans-serif;
  }
  .app{
    width:360px;
    margin:40px auto;
    background:#fff;
    padding:15px;
    border-radius:10px;
    box-shadow:0 10px 30px rgba(0,0,0,0.15);
  }
  h1{text-align:center}
  input,textarea{
    width:100%;
    margin:6px 0;
    padding:8px;
    box-sizing:border-box;
  }
  button{
    padding:8px;
    margin:4px;
    border:none;
    background:#4f46e5;
    color:#fff;
    border-radius:5px;
    cursor:pointer;
    font-size:14px;
  }
  button:hover{background:#3730a3}
  .tabs{
    display:flex;
    flex-wrap:wrap;
    gap:4px;
    margin-bottom:6px;
  }
  .box{
    display:grid;
    grid-template-columns:repeat(4,1fr);
    gap:5px;
    margin-top:6px;
  }
  .hide{display:none}
  pre{
    grid-column:1/-1;
    background:#f1f5f9;
    padding:8px;
    border-radius:6px;
    overflow:auto;
  }
  canvas{
    border:1px solid #ccc;
    margin-top:6px;
    grid-column:1/-1;
  }
  .danger{background:#e11d48}
  .back{
    text-align:center;
    margin-top:10px;
  }
  .back a{
    text-decoration:none;
    color:#2563eb;
    font-weight:bold;
  }
</style>
</head>

<body>

<div class="app">
<h1>üßÆ Scientific Calculator</h1>

<div class="tabs">
  <button onclick="tab('std')">Standard</button>
  <button onclick="tab('sci')">Scientific</button>
  <button onclick="tab('matrix')">Matrix</button>
  <button onclick="tab('vector')">Vector</button>
  <button onclick="tab('graph')">Graph</button>
</div>

<input id="display" readonly>

<!-- STANDARD -->
<div id="std" class="box">
  <button onclick="add('7')">7</button>
  <button onclick="add('8')">8</button>
  <button onclick="add('9')">9</button>
  <button onclick="add('/')">√∑</button>

  <button onclick="add('4')">4</button>
  <button onclick="add('5')">5</button>
  <button onclick="add('6')">6</button>
  <button onclick="add('*')">√ó</button>

  <button onclick="add('1')">1</button>
  <button onclick="add('2')">2</button>
  <button onclick="add('3')">3</button>
  <button onclick="add('-')">‚àí</button>

  <button onclick="add('0')">0</button>
  <button onclick="add('.')">.</button>
  <button onclick="calc()">=</button>
  <button onclick="add('+')">+</button>

  <button onclick="clearAll()" class="danger">C</button>
  <button onclick="back()">‚å´</button>
</div>

<!-- SCIENTIFIC -->
<div id="sci" class="box hide">
  <button onclick="wrap('Math.sin')">sin</button>
  <button onclick="wrap('Math.cos')">cos</button>
  <button onclick="wrap('Math.tan')">tan</button>
  <button onclick="wrap('Math.asin')">sin‚Åª¬π</button>

  <button onclick="wrap('Math.acos')">cos‚Åª¬π</button>
  <button onclick="wrap('Math.atan')">tan‚Åª¬π</button>
  <button onclick="wrap('Math.sqrt')">‚àö</button>
  <button onclick="pow()">x ∏</button>

  <button onclick="wrap('Math.log10')">log</button>
  <button onclick="wrap('Math.log')">ln</button>
  <button onclick="add('Math.PI')">œÄ</button>
  <button onclick="add('Math.E')">e</button>

  <button onclick="fact()">!</button>
  <button onclick="add('%')">%</button>
</div>

<!-- MATRIX -->
<div id="matrix" class="box hide">
  <textarea id="ma" placeholder="Matrix A (1 2;3 4)"></textarea>
  <textarea id="mb" placeholder="Matrix B"></textarea>

  <button onclick="mAdd()">A+B</button>
  <button onclick="mSub()">A‚àíB</button>
  <button onclick="mMul()">A√óB</button>
  <button onclick="det()">Det(A)</button>
  <button onclick="inv()">A‚Åª¬π</button>

  <pre id="mout"></pre>
</div>

<!-- VECTOR -->
<div id="vector" class="box hide">
  <input id="va" placeholder="Vector A (1,2,3)">
  <input id="vb" placeholder="Vector B (4,5,6)">

  <button onclick="vAdd()">A+B</button>
  <button onclick="dot()">Dot</button>
  <button onclick="cross()">Cross</button>
  <button onclick="mag()">|A|</button>

  <pre id="vout"></pre>
</div>

<!-- GRAPH -->
<div id="graph" class="box hide">
  <input id="fx" placeholder="y = f(x), e.g. x*x or Math.sin(x)">
  <button onclick="draw()">Plot</button>
  <canvas id="c" width="300" height="300"></canvas>
</div>

<div class="back">
  <a href="/">‚¨Ö Home</a>
</div>

</div>

<!-- ===== JS (INLINE) ===== -->
<script>
let d=document.getElementById("display");

function add(v){d.value+=v}
function clearAll(){d.value=""}
function back(){d.value=d.value.slice(0,-1)}
function calc(){try{d.value=eval(d.value)}catch{d.value="Error"}}
function wrap(f){d.value=f+"("+d.value+")"}
function pow(){d.value+="**"}
function fact(){let n=eval(d.value);let r=1;for(let i=1;i<=n;i++)r*=i;d.value=r}
function tab(id){
  document.querySelectorAll(".box").forEach(b=>b.classList.add("hide"));
  document.getElementById(id).classList.remove("hide")
}

/* MATRIX */
const pm=t=>t.split(";").map(r=>r.split(" ").map(Number))
function mAdd(){let A=pm(ma.value),B=pm(mb.value);mout.textContent=A.map((r,i)=>r.map((v,j)=>v+B[i][j]).join(" ")).join("\n")}
function mSub(){let A=pm(ma.value),B=pm(mb.value);mout.textContent=A.map((r,i)=>r.map((v,j)=>v-B[i][j]).join(" ")).join("\n")}
function mMul(){let A=pm(ma.value),B=pm(mb.value);let R=A.map(r=>B[0].map((_,j)=>r.reduce((s,v,i)=>s+v*B[i][j],0)));mout.textContent=R.map(r=>r.join(" ")).join("\n")}
function det(){let A=pm(ma.value);mout.textContent=A[0][0]*A[1][1]-A[0][1]*A[1][0]}
function inv(){let A=pm(ma.value);let d=A[0][0]*A[1][1]-A[0][1]*A[1][0];let I=[[A[1][1]/d,-A[0][1]/d],[-A[1][0]/d,A[0][0]/d]];mout.textContent=I.map(r=>r.join(" ")).join("\n")}

/* VECTOR */
const pv=v=>v.split(",").map(Number)
function vAdd(){let a=pv(va.value),b=pv(vb.value);vout.textContent=a.map((v,i)=>v+b[i])}
function dot(){let a=pv(va.value),b=pv(vb.value);vout.textContent=a.reduce((s,v,i)=>s+v*b[i],0)}
function cross(){let[a1,a2,a3]=pv(va.value),[b1,b2,b3]=pv(vb.value);vout.textContent=[a2*b3-a3*b2,a3*b1-a1*b3,a1*b2-a2*b1]}
function mag(){let a=pv(va.value);vout.textContent=Math.sqrt(a.reduce((s,v)=>s+v*v,0))}

/* GRAPH */
function draw(){
  let c=document.getElementById("c"),ctx=c.getContext("2d");
  ctx.clearRect(0,0,300,300);
  ctx.beginPath();
  ctx.moveTo(150,0);
  ctx.lineTo(150,300);
  ctx.moveTo(0,150);
  ctx.lineTo(300,150);
  ctx.stroke();
  let f=fx.value;
  ctx.beginPath();
  ctx.strokeStyle="red";
  for(let x=-150;x<150;x++){
    let X=x/20;
    let y=eval(f.replace(/x/g,X));
    let px=150+X*20,py=150-y*20;
    if(x==-150)ctx.moveTo(px,py);else ctx.lineTo(px,py)
  }
  ctx.stroke();
}
</script>

</body>
</html>
